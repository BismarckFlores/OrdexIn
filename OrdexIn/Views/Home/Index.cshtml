@{
    ViewData["Title"] = "Dashboard Principal";
}

<h1 class="mb-4" id="authTitle">👋 Dashboard del Sistema</h1>
<p id="authSubtitle">Resumen de las métricas clave de inventario y ventas.</p>

<hr class="mb-5" />

<div class="dashboard-grid summary-grid">
    <div class="card summary-card">
        <div>
            <div class="card-title">Total de Productos</div>
            <p class="card-value"><span id="productsCount">—</span></p>
        </div>
        <div class="summary-icon">
            <i class="fas fa-boxes"></i>
        </div>
    </div>

    <div class="card summary-card">
        <div>
            <div class="card-title">Productos en Stock</div>
            <p class="card-value"><span id="stockCount">—</span></p>
        </div>
        <div class="summary-icon">
            <i class="fas fa-cubes"></i>
        </div>
    </div>

    <div class="card summary-card">
        <div>
            <div class="card-title">Valor del Inventario</div>
            <p class="card-value"><span id="inventoryValue">—</span></p>
        </div>
        <div class="summary-icon" style="color: #10b981; background-color: rgba(16, 185, 129, 0.1);">
            <i class="fas fa-dollar-sign"></i>
        </div>
    </div>
    
    <div class="card summary-card">
        <div>
            <div class="card-title">Productos con bajo stock</div>
            <p class="card-value" style="color: var(--danger);"><span id="lowStockCount">—</span></p>
        </div>
        <div class="summary-icon" style="color: var(--danger); background-color: rgba(239, 68, 68, 0.1);">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
    </div>
</div>

<div class="dashboard-grid">
    
    <div class="card span-3">
        <h5 class="card-title" style="color: var(--text);">Ventas Mensuales</h5>
        <hr style="opacity: 0.1;" />
        
        <div id="monthlyChart" style="height: 250px; background-color: var(--surface-2); display: flex; align-items: center; justify-content: center; color: var(--muted); border-radius: 6px;">
            [Aquí iría el gráfico de Chart.js o similar]
        </div>
    </div>

    <div class="card span-1">
        <h5 class="card-title" style="color: var(--text);">Movimientos Recientes</h5>
        <hr style="opacity: 0.1;" />
        
        <ul style="list-style: none; padding: 0;">
            <li style="border-bottom: 1px solid var(--border); padding: 10px 0; font-size: 14px;"><i class="fas fa-arrow-up" style="color: #10b981; margin-right: 8px;"></i> Se recibió mercancía del Proveedor X. <span style="color: var(--muted); float: right;">Hace 1h</span></li>
            <li style="border-bottom: 1px solid var(--border); padding: 10px 0; font-size: 14px;"><i class="fas fa-arrow-down" style="color: var(--danger); margin-right: 8px;"></i> Se envió el pedido #1029. <span style="color: var(--muted); float: right;">Hace 3h</span></li>
            <li style="border-bottom: 1px solid var(--border); padding: 10px 0; font-size: 14px;"><i class="fas fa-plus" style="color: var(--primary); margin-right: 8px;"></i> Se creó el usuario de Daniel R. <span style="color: var(--muted); float: right;">Hace 1 día</span></li>
            <li style="border-bottom: 1px solid var(--border); padding: 10px 0; font-size: 14px;"><i class="fas fa-arrow-down" style="color: var(--danger); margin-right: 8px;"></i> Se vendieron 15 uds. de Producto Z. <span style="color: var(--muted); float: right;">Hace 2 días</span></li>
        </ul>
    </div>
    
    <div class="card span-4">
        <h5 class="card-title" style="color: var(--text);">Alertas y Notificaciones</h5>
        <p style="color: var(--muted); font-size: 14px; margin-bottom: 0;">No hay productos críticos agotados. El sistema está operando normalmente.</p>
    </div>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.0/signalr.min.js" asp-append-version="true"></script>
    <script src="~/js/dashboard.js" asp-append-version="true"></script>
}
