@{
    var accessTokenFromQuery = Context.Request.Query["access_token"].ToString();
}

<div class="auth-wrapper">
    <div class="auth-container">
        <h4 id="authTitle" class="text-center mb-4">Restablecer contraseña</h4>
        <p id="authSubtitle" class="text-center mb-4">Introduce una nueva contraseña para tu cuenta.</p>
        <hr class="mb-4" />

        <div id="message" class="alert alert-danger" style="display:none;"></div>

        <form id="resetForm" method="post" asp-action="ProcessResetPassword" novalidate style="display:none;">
            @Html.AntiForgeryToken()
            <input type="hidden" name="access_token" id="accessToken" value="" />
            <div asp-validation-summary="ModelOnly" class="text-danger alert alert-danger" role="alert" style="display:none;"></div>

            <div class="form-group">
                <div class="input-wrapper">
                    <input id="newPassword" name="newPassword" type="password" required minlength="8" autocomplete="new-password" placeholder=" ">
                    <label for="newPassword">Nueva contraseña</label>
                    <span class="input-line"></span>
                </div>
                <span class="text-danger" id="newPwdError"></span>
            </div>

            <div class="form-group">
                <div class="input-wrapper">
                    <input id="confirmPassword" name="confirmPassword" type="password" required minlength="8" autocomplete="new-password" placeholder=" ">
                    <label for="confirmPassword">Confirmar contraseña</label>
                    <span class="input-line"></span>
                </div>
                <span class="text-danger" id="confirmPwdError"></span>
            </div>

            <div class="form-group mt-4 d-grid gap-2">
                <button type="submit" class="btn btn-primary btn-lg">Restablecer contraseña</button>
            </div>
        </form>

        <div class="text-center mt-2">
            <a asp-action="Login" class="toggle-link">Volver a iniciar sesión</a>
        </div>
    </div>
</div>

@section Scripts {
    <script src = "~/js/reset-password.js" asp-append-version = "true"></script>
    <script src = "~/js/reset-password-validation.js" asp-append-version = "true"></script>
}